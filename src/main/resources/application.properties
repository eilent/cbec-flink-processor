# 应用配置
app.name=cbec-flink-processor
app.version=1.0.0

# 服务器配置
server.port=8081
server.servlet.context-path=/

# 编码配置
spring.http.encoding.charset=UTF-8
spring.http.encoding.force=true
spring.http.encoding.enabled=true

# 数据库连接配置
spring.datasource.url=jdbc:mysql://localhost:3306/cbec_db?useSSL=false&serverTimezone=UTC
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=root
spring.datasource.password=eilent

# JPA配置
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Kafka配置
# Kafka集群地址，多个地址用逗号分隔
kafka.bootstrap.servers=192.168.120.8:9092,192.168.120.9:9092,192.168.120.10:9092
# 消费者组ID，用于标识消费者组
kafka.consumer.group.id=cbec-order-group-a
# 消费者偏移量重置策略，可选值：earliest（从最早消息开始）、latest（从最新消息开始）
kafka.consumer.auto.offset.reset=earliest
# 是否自动提交偏移量，false表示由Flink管理偏移量
kafka.consumer.enable.auto.commit=false
# 订单主题名称
kafka.topic.order.name=cbec_topic_order
#kafka.topic.order.name=cbec-order-topic
# 订单主题分区数
kafka.topic.order.partitions=2
# 订单主题副本因子
kafka.topic.order.replication.factor=1

# Flink配置
# Flink并行度，建议与Kafka主题分区数保持一致
flink.parallelism=4
# Checkpoint间隔时间（毫秒）
flink.checkpoint.interval=60000
# Checkpoint超时时间（毫秒）
flink.checkpoint.timeout=120000
# 两次Checkpoint之间的最小暂停时间（毫秒）
flink.checkpoint.min-pause-between-checkpoints=5000
# 最大并发Checkpoint数量
flink.checkpoint.max-concurrent-checkpoints=1
# 外部化Checkpoint清理策略，可选值：RETAIN_ON_CANCELLATION、DELETE_ON_CANCELLATION
flink.checkpoint.externalized-cleanup=RETAIN_ON_CANCELLATION
# 状态后端类型，可选值：hashmap、rocksdb
flink.state.backend=rocksdb
# Checkpoint存储路径
flink.state.checkpoints.dir=file:///C:/tmp/flink/checkpoints
# 是否启用增量Checkpoint
flink.state.backend.incremental=true
# 重启策略最大尝试次数
flink.restart.strategy.max-attempts=3
# 重启策略延迟时间（毫秒）
flink.restart.strategy.delay.ms=10000
# 批处理大小
flink.batch.size=100
# 窗口大小（秒）
flink.window.size.seconds=60

# 批处理配置
# 批处理大小
batch.size=100

# 日志配置
# 根日志级别
logging.level.root=info
# 应用包日志级别
logging.level.com.gzeport.cbec=debug
# 控制台日志字符集
logging.charset.console=utf-8
# 文件日志字符集
logging.charset.file=utf-8

# JVM参数配置
# 启动时传递给JVM的参数，解决Java 9+模块系统访问限制问题
spring-boot.run.jvmArguments=--add-opens java.base/java.util=ALL-UNNAMED
